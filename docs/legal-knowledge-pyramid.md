# AIAdvocate – Legal Knowledge Blueprint (BG)

> **Цел:** Този документ описва какви данни трябва да има системата, за да се държи като **истински български адвокат**, а не просто като търсачка в закони.

---

## 1. Визия

AIAdvocate не е просто „бот, който чете закони“.  
Целта е:

- Да **разбира контекст** – реални житейски ситуации.
- Да **събира и комбинира** много нива на правна информация.
- Да **обяснява човешки**, не с чист юридически жаргон.
- Да **помага на хората да действат** (жалби, възражения, избор на стъпки).
- В бъдеще – да **помни потребителя** и неговите случаи.

Това се реализира чрез **пирамида от знания**:

- Level 1 – Конституция, закони, кодекси
- Level 2 – Наредби, правилници, подзаконови актове
- Level 3 – Тълкувателни актове (ВКС, ВАС, ППВС и др.)
- Level 4 – Практика на съдилища (решения)
- Level 5 – Доктрина и експертни материали
- Level 6 – Контекст за конкретния потребител

---

## 2. Level 1 – Основно законодателство (Core)

**Какво включва:**

- Конституция на Република България
- Всички **закони** (закони в сила)
- Всички **кодекси**:
    - Наказателен кодекс
    - НПК
    - ЗЗД
    - Семеен кодекс
    - Търговски закон
    - ДОПК
    - Кодекс на труда (КТ)
    - Кодекс за социално осигуряване (КСО)
    - Закон за движение по пътищата (ЗДвП)
    - … и останалите

**Статус в проекта:**

- Вече имаме:
    - парснати JSON файлове (`laws_parsed` и подобни)
    - импортирани текстове в Postgres (`laws`, `law_chunks`, pgvector embedding)
- Използват се в:
    - `pg-legal.repository.ts` (vector search)
    - `legal.service.ts` (`chatWithPg`, `searchLawChunksByQuestion`)

**Роля:**

- Това е **абсолютният минимум** – без него няма база.
- Може да захрани **FREE tier** напълно.

---

## 3. Level 2 – Подзаконови актове (Наредби, Правилници и др.)

**Какво включва:**

- Наредби (например за:
    - регистрация на МПС
    - ПТП и протоколи
    - строителство, здравеопазване, образование и др.)
- Правилници
- Инструкции, укази
- Други подзаконови нормативни актове

**Защо са важни:**

- В много случаи законът казва само „какво по принцип“, а **детайлите** са в наредбата.
- Примери:
    - процедури (срокове, образци на документи, такси)
    - конкретни правила за институции, комисии, контролни органи

**План за събиране:**

1. **Източници**
    - официални държавни портали (държавен вестник, правни портали, министерства)
    - специализирани правни сайтове (с внимание към лицензията).

2. **Парсване и структура**
    - подобен формат на този за законите:
        - `doc_id`
        - `title`
        - `type` (наредба, правилник, инструкция…)
        - `source_url`
        - `text`
    - chunk-ване + embeddings → **същия pipeline като за законите**, но с `doc_type = 'sub-law'`.

3. **Интеграция**
    - или в същите таблици (`laws` / `law_chunks` с допълнителна колона `type`)
    - или в отделни таблици (`sub_laws`, `sub_law_chunks`).

**Монетизация идея:**

- Част от наредбите могат да се включат в FREE tier (по-общи).
- Пълен достъп + reasoning върху наредби → **Tier 2 (платен)**.

---

## 4. Level 3 – Тълкувателни актове (ВКС, ВАС, ППВС и др.)

**Това е голямата разлика между „бот“ и „адвокат“.**

**Какво включва:**

- Тълкувателни решения на ВКС
- Тълкувателни решения на ВАС
- Тълкувателни постановления на Пленума (ППВС и др.)
- Други интерпретативни актове, които са **задължителни за съдилищата**.

**Защо са критични:**

- Изчистват противоречива съдебна практика.
- Определят **как трябва да се прилага закона**.
- Пример:
    - какво е „маловажен случай“
    - кога административният акт е нищожен
    - как се тълкува „разумен срок“ и т.н.

**Формат на данните:**

- `id` – вътрешен идентификатор
- `court` – ВКС / ВАС / др.
- `type` – ТР, ППВС и др.
- `number` – № на тълкувателния акт
- `date` – дата
- `title` – кратко описание на проблема
- `case_refs` – (по желание) списък от цитирани членове/закони
- `text` – целият текст
- `source_url` – линк към официалния сайт

След това – chunk-ване + embeddings (както за законите).

**Интеграция в системата:**

- Може да стои в:
    - `legal_documents` с поле `doc_type = 'interpretation'`  
      или
    - отделни таблици `interpretations`, `interpretation_chunks`.
- В RAG pipeline:
    - при въпрос, свързан със спорна материя → AI се учи да гледа **първо** тълкувателни актове, после закони и наредби.

**Монетизация:**

- **Tier 2 (5 EUR / месец)** – достъп до отговори, които:
    - изрично се опират на тълкувателни решения
    - правят по-задълбочен анализ
    - показват: „Според ТР №… на ВКС…“

---

## 5. Level 4 – Практика на съдилища (Case Law „lite“)

**Какво включва:**

- Решения на:
    - ВКС
    - ВАС
    - Конституционен съд
    - Апелативни, окръжни, административни, районни съдилища
- Особено:
    - по често срещани теми: трудови спорове, ПТП, потребителски кредити, имоти, семейно право, данъчни спорове.

**Важно:**  
В България това **не е прецедентно право** като в САЩ, но:

- показва тенденции в практиката
- помага на AI да дава по-„човешки“ и реалистични отговори
- пример: как съдът в 90% от случаите третира даден казус

**Формат:**

- `id`
- `court`
- `case_number` (дело №…)
- `date`
- `law_areas` (етикети: трудово, семейно, данъчно, административно…)
- `summary` (кратко резюме, по желание)
- `text` – пълно решение
- `source_url`

Отново: chunk-ване + embeddings → в таблица `case_chunks` или обединена схема.

**Как да се използва:**

- В Tier 3 (premium) – AI може да казва:
    - „В подобни случаи съдилищата обикновено приемат, че…“
    - „В решение на ВКС от … се приема, че…“

**Монетизация:**

- Това е **силен аргумент за 30 EUR tier**:
    - хората плащат, за да получат не просто „какво пише в закона“, а „как реално се решават такива дела“.

---

## 6. Level 5 – Доктрина и експертно знание

**Какво включва (по-далечен етап):**

- Коментари към кодекси/закони
- Научни статии
- Книги и монографии
- Учебници, лекции
- Материали от юридически списания

**Предизвикателства:**

- Авторски права / лицензии
- Качество и надеждност на източника

**Ползване:**

- При сложни казуси или за Tier 3:
    - AI може да дава по-задълбочено теоретично обяснение:
        - „В доктрината съществува спор по този въпрос…“
        - „Според преобладаващото становище…“

---

## 7. Level 6 – Потребителски контекст (Личен „досие“)

**Идея:**

С времето AIAdvocate да „познава“ потребителя (с негово съгласие):

- предишни въпроси
- семейно положение (ако е споделено)
- фирма / ЕТ / дейност
- текущи дела (например ПТП, трудов спор, имотен спор)
- качени документи (фиш, наказателно постановление, договори)

**Примери:**

- „Преди няколко дни ми споделихте, че вече имате едно наказателно постановление за превишена скорост. Това може да има значение за…“
- „Знам, че сте самоосигуряващо се лице – това променя режима по КСО…“

**Технически бележки (по-късно):**

- отделна таблица/колекции:
    - `users`
    - `user_questions`
    - `user_cases`
    - `user_documents`
- careful with:
    - GDPR
    - retention
    - изрично съгласие на потребителя

**Монетизация:**

- Personal context → **Tier 3 (и нагоре)**:
    - „личен AI адвокат“, който знае историята ти
    - напомня за срокове
    - следи статус на дела (по желание)

---

## 8. Слоеве срещу ценови планове

### Free Tier (безплатно)

- Level 1 – Конституция, закони, кодекси
- Частично Level 2 – избрани важни наредби
- Ограничения:
    - лимит на въпроси/ден (напр. 3–5)
    - по-кратки отговори
    - по-малко „reasoning“ (само директно от законите)

### Tier 2 (≈ 5 EUR / месец)

- Всичко от Free +
- Пълно използване на:
    - Level 2 – наредби, правилници
    - Level 3 – тълкувателни решения
- По-задълбочени отговори:
    - повече анализ
    - цитиране на тълкувателни актове
    - повече контекст
- По-високи лимити въпроси / дължина на контекст

### Tier 3 (≈ 30 EUR / месец)

- Всичко от Tier 2 +
- Частично/пълно:
    - Level 4 – съдебна практика
    - Level 5 – доктрина (където е лицензионно възможно)
    - Level 6 – потребителски контекст (личен профил / досие)
- Функционалности:
    - по-детайлен анализ (~ „advice memo“)
    - проекти на документи: жалба, възражение, искова молба (примерни)
    - проследяване на случаи
    - уведомления за срокове (по желание)

---

## 9. Технически roadmap (кратко)

**Phase 1 – Това, което вече имаме / доизчистваме**

- Закони + кодекси → Postgres + pgvector + RAG (готово в голямата си част)
- Frontend чат (AIAdvocate Chat)
- Ясен system prompt за „юридически асистент“

**Phase 2 – Наредби и подзаконови актове**

- Добавяме `doc_type` или отделни таблици
- Отделен ingestion скрипт
- Индекс + търсене по подзаконови актове
- Минимална UI поддръжка (филтър „само наредби/правилници“)

**Phase 3 – Тълкувателни актове**

- Събиране и парсване на ТР/ППВС и др.
- Отделен ingestion
- Логика в BE: при правен въпрос → първо търсене в тълкувателни актове
- Маркери към потребителя: „Според ТР на ВКС…“

**Phase 4 – Court practice + User context (Premium)**

- Дизайн на schema за решения на съдилищата
- Добавяне на user profiles, cases, documents
- Privacy / GDPR механизми

---

## 10. Обобщение

Този документ е **централният план** за юридическите данни в AIAdvocate.

- Ако нещо **не е в този blueprint** → или не ни трябва, или трябва да преценим къде да го сложим.
- Ако някой нов човек в екипа пита „Какво е това животно AIAdvocate?“ → първо чете този файл.
- Това е разликата между:
    - „бот, който чете закони“ (като Pravko)
    - и **дигитален адвокат**, който разбира българската правна система.